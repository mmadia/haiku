SubDir HAIKU_TOP src build libhaikucompat ;

SetSubDirSupportedPlatforms libbe_test ;

UsePrivateBuildHeaders . kernel [ FDirName system arch $(HOST_ARCH) ] ;
	# the latter for <asm_defs.h>


local libbeTestSources ;
if $(TARGET_PLATFORM) = libbe_test {
	libbeTestSources = misc.cpp syscalls.cpp ;
}

StaticLibrary libhaikucompat.a :
	strcasestr.o
	strlcat.o
	strlcpy.o
	strnlen.o

	$(libbeTestSources)
;

SEARCH on [ FGristFiles strcasestr.c strlcat.c strlcpy.c strnlen.c ]
	= [ FDirName $(HAIKU_TOP) src system libroot posix string ] ;
SEARCH on [ FGristFiles atomic.S ]
	= [ FDirName $(HAIKU_TOP) src system libroot os arch $(HOST_ARCH) ] ;
SEARCH on [ FGristFiles Bitmap.cpp GraphicsDefs.cpp ]
	= [ FDirName $(HAIKU_TOP) src build libbe interface ] ;
SEARCH on [ FGristFiles AppFileInfo.cpp ]
	= [ FDirName $(HAIKU_TOP) src build libbe storage ] ;
